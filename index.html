<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Writ</title>
        <style type="text/css">
            :root {
                --bg-color: #f5f5f5;
                --container-color: #fff;
                --text-color: #111;
                --title-color: #000;
            }

            h1 {
                margin: 0;
                padding: 0;
            }

            body {
                margin: 0;
                font: normal 20px/1.5 times;
                background: var(--bg-color);
                color: var(--text-color);
            }

            body.dark {
                --bg-color: #222;
                --container-color: #32363f;
                --text-color: #e0e3e6;
                --title-color: #fff;
            }

            .icon-symbols {
                display: none;
            }

            .search-icon {
                width: 32px;
                height: 32px;
                vertical-align: middle;
                fill: currentColor;
            }

            .music-icon {
                width: 24px;
                height: 24px;
                vertical-align: middle;
                fill: currentColor;
            }

            .writ-icon {
                width: 20px;
                height: 20px;
                vertical-align: text-top;
                fill: currentColor;
            }

            .key-icon {
                width: 20px;
                height: 20px;
                vertical-align: text-top;
                fill: currentColor;
            }

            .container {
                max-width: 700px;
                margin: 0 auto;
                padding: 4em 6em;
                background: var(--container-color);
                min-height: 60vh;
                overflow: hidden;
            }

            @media (max-width: 940px) {
                .container {
                    max-width: 100%;
                    padding: 2em;
                }
            }

            .topbar {
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                gap: 2em;
                padding-bottom: 1em;
            }

            .site-title {
                font-size: 3em;
                border-bottom: 0.12em double;
                text-indent: -0.2em;
                cursor: alias;
            }

            .site-title:first-letter {
                margin-right: -0.03em;
            }

            .search {
                position: relative;
                height: 3em;
                width: 220px;
            }

            .search-form {
                position: absolute;
                top: 0;
                left: 0;
                height: 100%;
                width: 100%;
                background: var(--container-color);
                opacity: 0;
            }

            .search-toggle {
                position: absolute;
                top: 10px;
                left: 50%;
                transform: translateX(-50%);
                border-radius: 50%;
                outline: none;
                transition: all .1s;
            }

            .search-toggle:focus {
                background: var(--bg-color);
                box-shadow: 0 0 0 0.25em var(--bg-color), 0 0 4px 7px royalblue;
            }

            .search-toggle::-webkit-details-marker {
              display: none;
            }

            .search[open] .search-toggle::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                transform: translate(-50%, -25%);
            }

            .search[open] .search-toggle {
                animation: fade-out .25s forwards;
            }

            .search[open] .search-form {
                animation: fade-in 1s forwards;
            }

            @keyframes fade-out {
                to {
                    opacity: 0;
                }
            }

            @keyframes fade-in {
                to {
                    opacity: 1;
                }
            }

            .post {
                transition: all .3s;
            }

            .post.hidden {
                opacity: 0;
                height: 0;
            }

            .post-metadata td {
                padding-right: 5px;
            }

            .post-music-list {
                list-style: none;
                padding: 0;
            }

            .post-music-list-icon {
                margin-right: 6px;
            }
        </style>
    </head>

    <body>

        <div class="container">
            <nav class="topbar">
                <h1 class="site-title" id="dark-toggle">Writ</h1>
                <details class="search">
                    <form class="search-form" id="search-form" action="">
                        <input aria-label="Search box" type="search" id="search" name="search" />
                        <button>Search</button>
                    </form>
                    <summary class="search-toggle">
                        <svg class="search-icon">
                            <use xlink:href="#search-icon"></use>
                        </svg>
                    </summary>
                </details>
            </nav>

            <main class="content">
                <article class="post">
                    <header class="post-header">
                        <h2>İlk Şey</h2>
                    </header>
                    <section class="post-content">
                        <p>İlk paragraf.</p>
                        <p>HTML yazmak neden istememeliyiz ki? Soyutlamamaya karar verirsem pekala HTML ile blog oluşturabilirim. Neyse artık.</p>
                        <p>16 yaşımdaydım galiba, buna benzer bir özel günlük yazmaya başlamıştım düz HTML ile.</p>
                        <p>Gafamın dönmeye başlamak üzere olduğunu hissediyorum. Dışarıda kar fırtınasına yakın bir şey var. Tek sorun: kar yağmıyor. Epey rüzgarlı sadece. Sigaradan sigaraya çıkıyorum dışarı.</p>
                        <p>Bu gönderiyi yazdığım sırada henüz burası için CSS bile yazmış değilim. Micro pause, git kenara!</p>
                        <p>Yine de aklımdaki belli bir kurguya göre class'lar kullandım. Günün birinde buraya CSS yazmalıyım düşüncesi ile.</p>
                        <p>Gelecekteki ben. Burayı okuduğun zaman ne zaman olacak acaba. Nasıl biri olacaksın acaba. Biliyorum, burayı yazan bana benzeyen biri olacaksın, en azından belli açılardan (artık x yıl önceki halinden eser kalmayacak yaşı geçtiğime göre). Sen (gelecekteki ben), şu an bunu yazan benim alacağım kararların mahkumusun. Bana saygı duy veya benden nefret et ama senin var olma nedenin benim. Daha doğrusu, akla ilk gelen neden benim. Benim (şu anki benim) akla ilk gelen var olma nedenim, mesela, 16 saat önceki benim. Hatta 1 saat önceki benim.</p>
                        <p>Şu anki benim var olmamda akla gelen ilk neden, şu andan sonsuz miktarda kısa zaman önceki benim. Mikrosaniyeler veya nanosaniyeler yeterli olmayabilir bu zaman dilimini tarif etmek için. Zaman ölçeği uzamsal değişikliklerin çerçevesini belirliyor. Şöyle ki, bundan 1 saniye önce benim parmaklarım tamamen farklı konumlarda olabiliyorken, dünya kendi ekseni etrafında yalnızda 1 yay saniyesi kadar daha az dönmüş durumdaydı. Herhangi bir gökadanın 1 saniye önceki fotoğrafı ile şu anki fotoğrafı arasında (fotoğrafın çekildiği ortam şartları sayılmazsa) kabaca hiçbir fark yok. Kabaca dememin sebebi ise fotoğrafın çözünürluğü ile ilgili. Eğer bu gökadanın herhangi bir sarmal kolunda yer alan bir yıldızın yörüngesindeki yaşama elverişli bir gezegenin yüzeyinin her bir nanometresini çözebilen bir fotoğraftan bahsediyorsak, tabii ki 1 saniye bu iki fotoğraf arasında büyük farklara neden olabilir.</p>
                        <p>1 saniyelik zaman dilimi, nanometrelik ölçekte, var olmak veya yok olmak arasındaki farkı belirleyecek kadar büyük bir zaman. Milimetreler ve santimetreler için bile 1 saniye oldukça geniş bir zaman dilimi. Aslında söz konusu varlığın uzaydaki yer değiştirme hızına göre değişiyor zaman ölçeğinin etkisi. Uzayda asla yer değiştirmeyen bir varlık sonsuza dek aynı kalacakken ışık hızında hareket eden bir varlık için nanosaniyeler bile büyük zaman dilimleri olabilir.</p>
                        <p>İşte bu yüzden senin (gelecekteki ben) akla gelen <em>ilk</em> var olma nedenin benim. Ben süregelen bir varlığım. Benim bu anki varlığım ile senin aranda ben var olmaya devam edeceğim. O zaman dilimindeki tüm benlerin var olmalarının akla ilk gelen nedeni benim. Senin var olmanla sonuçlanacak olan süreçte rol oynayan tüm benlerin mimarı benim. Henüz nasıl benler yaratacağımı bilmiyorum. Sen halihazırda biliyorsun şu anki benden sana gelen süreçte ne gibi benlerin var olduğunu. Kabul ediyorum, o yaptığın hatanın sorumlusu benim. Evet, o güzel anı benim sayemde yaşadın. Bana saygı duy veya benden nefret et, önemsiz.</p>
                    </section>
                    <footer class="post-footer">
                        <section class="post-footer-section">
                            <table class="post-metadata">
                                <tr class="post-metadata-writ">
                                    <td>Writ</td>
                                    <td>07.03.2021, 01:44</td>
                                </tr>
                                <tr class="post-metadata-keys">
                                    <td>Keys</td>
                                    <td>türkçe, self, thoughts, first, drunk</td>
                                </tr>
                            </table>
                        </section>
                        <section class="post-footer-section">
                            <ul class="post-music-list">
                                <li>Underworld - Born slippery</li>
                                <li>Underworld - Pinetum</li>
                                <li>Underworld &amp; Iggy Pop - Bells &amp; Circles</li>
                                <li>Depeche Mode - It's No Good</li>
                                <li>22 Pistepirkko - Birdy</li>
                            </ul>
                        </section>
                    </footer>
                </article>
            </main>
        </div>

        <svg class="icon-symbols">
            <symbol id="search-icon" viewBox="0 0 512 512">
                <path d="M344.5 298c15-23.6 23.8-51.6 23.8-81.7 0-84.1-68.1-152.3-152.1-152.3C132.1 64 64 132.2 64 216.3c0 84.1 68.1 152.3 152.1 152.3 30.5 0 58.9-9 82.7-24.4l6.9-4.8L414.3 448l33.7-34.3-108.5-108.6 5-7.1zm-43.1-166.8c22.7 22.7 35.2 52.9 35.2 85s-12.5 62.3-35.2 85c-22.7 22.7-52.9 35.2-85 35.2s-62.3-12.5-85-35.2c-22.7-22.7-35.2-52.9-35.2-85s12.5-62.3 35.2-85c22.7-22.7 52.9-35.2 85-35.2s62.3 12.5 85 35.2z"/>
            </symbol>
            <symbol id="music-icon" viewBox="0 0 64 64">
                <path d="M23.727 16.403v24.134a8.296 8.296 0 00-4.35-1.233c-4.612 0-8.353 3.74-8.353 8.349a8.354 8.354 0 008.353 8.354c4.61 0 8.349-3.739 8.35-8.352V25.151l21.25-6.109V33.33a8.296 8.296 0 00-4.35-1.233c-4.614 0-8.353 3.739-8.353 8.348a8.354 8.354 0 008.353 8.354c4.344 0 7.914-3.325 8.31-7.57h.04V7.993l-29.25 8.41z"/>
            </symbol>
            <symbol id="writ-icon" viewBox="0 0 24 24">
                <path clip-rule="evenodd" d="M12 0C5.375 0 .003 5.373.003 12S5.375 24 12 24c6.626 0 11.997-5.373 11.997-12S18.626 0 12 0zm4.412 16.709l-.35.35a.803.803 0 01-1.088.029l-4.52-3.955c-.308-.275-.541-.838-.521-1.25l.419-7.134a.801.801 0 01.79-.749h.493c.413 0 .767.336.787.748l.343 5.934c.021.413.262 1 .535 1.309l3.144 3.628a.807.807 0 01-.032 1.09z" fill-rule="evenodd"/>
            </symbol>

            <symbol id="key-icon" viewBox="0 0 500 500">
                <path clip-rule="evenodd" d="M56.629 379.2c-14.09 14.071-14.09 36.975 0 51.055 14.08 14.087 36.981 14.087 50.965 0l10.177-10.08 42.438 42.428a18.413 18.413 0 0026.155 0l63.244-63.244a18.415 18.415 0 000-26.157l-42.429-42.427 75.586-75.682c16.174 8.357 34.61 13.075 54.059 13.075 65.234 0 118.111-52.869 118.111-118.109 0-65.232-52.877-118.111-118.111-118.111-65.238 0-118.11 52.879-118.11 118.111 0 19.449 4.721 37.886 13.077 54.06L56.629 379.2zm234.767-229.141c0-25.075 20.354-45.429 45.427-45.429 25.076 0 45.426 20.354 45.426 45.429s-20.35 45.426-45.426 45.426c-25.072 0-45.427-20.352-45.427-45.426z" fill-rule="evenodd"/>
            </symbol>
        </svg>

        <template id="writ-icon-tmpl">
            <svg class="writ-icon">
                <use xlink:href="#writ-icon"></use>
            </svg>
        </template>

        <template id="key-icon-tmpl">
            <svg class="key-icon">
                <use xlink:href="#key-icon"></use>
            </svg>
        </template>

        <template id="music-list-icon-tmpl">
            <svg class="music-icon post-music-list-icon">
                <use xlink:href="#music-icon"></use>
            </svg>
        </template>


        <script type="text/javascript">
            function initSearch(searchForm, posts) {
                const searchIndex = posts.map((post, index) => ({
                    content: post.textContent,
                    index
                }))
                searchForm.addEventListener('submit', event => {
                    event.preventDefault()
                    const formData = new FormData(event.target)
                    const query = formData.get('search')
                    const pattern = new RegExp(query, 'gi')
                    const matchingPosts = searchIndex.filter(({ content }) => {
                        return content.match(pattern)
                    })
                    posts.forEach((post, i) => {
                        const isMatching = matchingPosts.find(({ index }) => index === i)
                        post.classList.toggle('hidden', !isMatching)
                    })
                })
            }

            function initDarkMode(darkToggle) {
                const getDarkMemory = () => JSON.parse(localStorage.getItem('dark'))

                darkToggle.addEventListener('click', () => {
                    document.body.classList.toggle('dark')
                    const darkMemory = getDarkMemory()
                    localStorage.setItem('dark', !darkMemory)
                })

                document.body.classList.toggle('dark', getDarkMemory())
            }

            function initPostMetadataIcons({ writCells, keyCells, writIconTmpl, keyIconTmpl }) {
                const writIcon = writIconTmpl.content.firstElementChild
                writCells.forEach(cell => {
                    cell.innerHTML = writIcon.cloneNode(true).outerHTML
                })

                const keyIcon = keyIconTmpl.content.firstElementChild
                keyCells.forEach(cell => {
                    cell.innerHTML = keyIcon.cloneNode(true).outerHTML
                })
            }

            function initMusicListIcons(musicListItems, { musicListIconTmpl }) {
                const icon = musicListIconTmpl.content.firstElementChild
                musicListItems.forEach(item => {
                    item.prepend(icon.cloneNode(true))
                })
            }

            ;(() => {
                const UI = {
                    darkToggle: document.querySelector('#dark-toggle'),
                    searchForm: document.querySelector('#search-form'),
                    posts: Array.from(document.querySelectorAll('.post')),
                    postMetadataWrits: Array.from(document.querySelectorAll('.post-metadata-writ td:first-child')),
                    postMetadataKeys: Array.from(document.querySelectorAll('.post-metadata-keys td:first-child')),
                    postMusicListItems: Array.from(document.querySelectorAll('.post-music-list li')),
                    writIconTmpl: document.querySelector('#writ-icon-tmpl'),
                    keyIconTmpl: document.querySelector('#key-icon-tmpl'),
                    musicListIconTmpl: document.querySelector('#music-list-icon-tmpl'),
                }

                initSearch(UI.searchForm, UI.posts)
                initDarkMode(UI.darkToggle)
                initPostMetadataIcons({
                    writCells: UI.postMetadataWrits,
                    keyCells: UI.postMetadataKeys,
                    writIconTmpl: UI.writIconTmpl,
                    keyIconTmpl: UI.keyIconTmpl
                })
                initMusicListIcons(UI.postMusicListItems, {
                    musicListIconTmpl: UI.musicListIconTmpl
                })
            })()
        </script>
    </body>

</html>
